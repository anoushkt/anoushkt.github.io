<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->


  <title>eyeorg</title>
  <meta name="description" content="A website to visualise amp maps">

  <!-- Open Sans font -->
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>


  <!-- Latest compiled and minified Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- Bootstrap CSS w/ custom brand color -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- Our own CSS tweaks -->
  <link href="/css/custom.css" rel="stylesheet">

  <!-- favicon -->
  <link rel="icon"
      type="image/png"
      href="">

  <!-- facebook shares -->
  <meta property="og:image" content="http://getfoodsniffer.com/wp-content/uploads/2018/10/free-logo-templates-sample-circular-wave-logo-template-1061-224.jpg" />

  <meta property="og:image:secure_url" content="http://getfoodsniffer.com/wp-content/uploads/2018/10/free-logo-templates-sample-circular-wave-logo-template-1061-224.jpg" />

</head>


  <body>
	  <script src="ampmap.json"></script>

	<div class="container" style="margin-top: 10px; margin-bottom: 20px">
	<div class="row">

		<div class="col-sm-12">

			<nav class="navbar" role="navigation" style="margin-bottom: 0">
			  <div class="container-fluid">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
				  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				  </button>
				  <a class="navbar-brand" style="margin-top:-10px" href="/index.html"><img src="https://cdn3.iconfinder.com/data/icons/faticons/32/globe-01-512.png" height="40px"></a>
				</div>


				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				  <!-- LINKS (right) -->
				  <ul class="nav navbar-nav navbar-right">

					<li><a href="https://anoushkt.github.io">Home</a></li>
					<li><a href="https://anoushkt.github.io/new">Visualise</a></li>
					<li><a href="https://anoushkt.github.io/about">About</a></li>
				  </ul>
				</div><!-- /.navbar-collapse -->

			  </div><!-- /.container-fluid -->
			</nav><!-- navbar -->

			<hr style="margin-top: 5px; margin-bottom: 0px;">
		</div>  <!-- col -->

	</div>  <!-- row -->



	<!-- ALERTS -->
	<div class="row">
		<div class="col-md-12" id="alerts-container">
		</div>  <!-- col -->
	</div>  <!-- row -->

</div> <!-- container -->






  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- bbq jquery plugin (for query string deparam function) -->
<script src="/js/jquery.ba-bbq.min.js"></script>

<!-- Latest compiled and minified Bootstrap JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>



<!-- Common js code -->
<script src="/js/common.js"></script>

<!-- page-specific scripts, if any -->



    <!-- Google analytics -->


<

<script>     function update(){
     // For each check box:
     d3.selectAll(".checkbox").each(function(d){
       cb = d3.select(this);
       grp = cb.property("value")
       // If the box is check, I show the group
       if(cb.property("checked")){
         svg.selectAll("."+grp).transition().duration(1000).style("opacity", 1).attr("r", function(d){if (d.protocol==document.querySelector('input[name="contact"]:checked').value)
         {return d.ampFactor ;}
         else {return 0;} } )
       // Otherwise I hide it
       }else{
         svg.selectAll("."+grp).transition().duration(1000).style("opacity", 0).attr("r", 0)
       }
     })
   }
</script>
<meta charset="utf-8">
<style>
.dropdown {
    padding: 20px 20px;
    font-size: 30px;
    border: none;
    width:120px;
   font-family: "Comic Sans MS", cursive, sans-serif;
   font-color: "white"
  position: absolute;
  left: 30px;
  top: 65px;
}
.dropdown-content {
  display: none;
 position: absolute;
 background-color: #f9f9f9;
 min-width: 175px;
 box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
 padding: 12px 16px;
 z-index: 1;
 font-size: 12px;
}
.dropdown:hover .dropdown-content {
  display: block;
}
</style>



      <script>
        $(function() {
    $('#chkfilter').on('keyup', function() {
        var query = this.value;
        $('[id^="country"]').each(function(i, elem) {
              if (elem.value.indexOf(query) != -1) {
                  $(this).closest('label').show();
              }else{
                  $(this).closest('label').hide();
              }
        });
    });
    });</script>

<input type="text" id="chkfilter" placeholder="Countries" style="position:absolute; left:40px; top:110px;border: 3px solid #000000;font-size:25px;";>
<input type="text" id="checkamp" placeholder="Protocols" style="position:absolute; left:470px; top:110px;border: 3px solid #000000;font-size:25px;";>
 <input type="text" id="checkamp" placeholder="Amplification" style="position:absolute; left:900px; top:110px;border: 3px solid #000000; font-size:25px;">

<div class="dropdown" style="position:absolute; left:40px; top:110px; max-height:500px;font-size:55px;overflow:scroll;">
  <div class="dropdown-content" style="position:relative;top:35px;width:100px;overflow:scroll;">
											     <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Austria" >Austria</label><br>
										        <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Taiwan" >Taiwan</label><br>
											  <label><input type="checkbox" class="checkbox" name="chk" id="country" value="SriLanka" >SriLanka</label><br>
										       <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Brazil" >Brazil</label><br>
										        <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Ecuador" >Ecuador</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="China" >China</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="UnitedKingdom" >UnitedKingdom</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="UnitedStates" >UnitedStates</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Philippines" >Philippines</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Russia" >Russia</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Chile" >Chile</label><br>
      <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Colombia" >Colombia</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Indonesia" >Indonesia</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Kyrgyzstan" >Kyrgyzstan</label><br>
    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Romania" >Romania</label><br>
													    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="India" >India</label><br>
													    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Canada" >Canada</label><br>
													     <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Japan" >Japan</label><br>
													      <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Pakistan" >Pakistan</label><br>
													       <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Georgia" >Georgia</label><br>
													        <label><input type="checkbox" class="checkbox" name="chk" id="country" value="HongKong" >HongKong</label><br>
													    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="Turkey" >Turkey</label><br>

    <label><input type="checkbox" class="checkbox" name="chk" id="country" value="SouthKorea" >SouthKorea</label><br><br><br>
  </div>
</div>
<div class="dropdown" style="position:absolute; left:470px; top:110px;font-size: 25px; ">
    <div class="dropdown-content" style="position:relative;top:45px;width:200px;">
    <input type="checkbox" id="contactChoice1"
     name="contact" value="dns" checked onclick="update()">
    <label for="contactChoice1">dns</label>
    <br>
    <input type="checkbox" id="contactChoice2"
     name="contact" value="dnsallfilter" onclick="update()">
    <label for="contactChoice2">dnsallfilter</label>
    <br>
    <input type="checkbox" id="contactChoice3"
     name="contact" value="ntpPrivate" onclick="update()">
    <label for="contactChoice3">ntpPrivate</label>
    <br>
      <input type="checkbox" id="contactChoice4"
       name="contact" value="chargen" onclick="update()">
      <label for="contactChoice4">chargen</label>
      <br><input type="checkbox" id="contactChoice5"
       name="contact" value="ssdp" onclick="update()">
      <label for="contactChoice5">ssdp</label>
      </div>
</div>

<div class="dropdown" style="position:absolute; left:900px; top:110px;font-size: 25px; ">
    <div class="dropdown-content" style="position:relative;top:45px;width:200px;">
    <input type="checkbox" id="af1"
     name="af" value=10 checked onclick="update()">
    <label for="af1">greater than 10</label>
    <br>
    <input type="checkbox" id="af2"
     name="af" value=20 onclick="update()">
    <label for="af2">greater than 20</label>
    <br>
    <input type="checkbox" id="contactChoice3"
     name="af" value=30 onclick="update()">
    <label for="af3">greater than 30</label>
	</div>
</div>

<script>
function myFunction() {update();
}
</script>
<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
<!-- Create an element where the map will take place -->
<svg id="my_dataviz" width="1500" height="1300"  ></svg>
<script>
// The svg
var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");
// Map and projection
var projection = d3.geoNaturalEarth()
    .scale(width / 1.3/ Math.PI)
    .translate([width / 2, height / 2])
  var markers=ampmap
d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson", function(data){
    // Draw the map
    svg.append("g")
        .selectAll("path")
        .data(data.features)
        .enter().append("path")
            .attr("fill", "#98b0d6")
            .attr("d", d3.geoPath()
                .projection(projection)
            )
            // Add circles:
                svg
                  .selectAll("myCircles")
                  .data(markers)
                  .enter()
                  .append("circle")
                    .attr("class" , function(d){ return d.country })
                    .attr("protocol" , function(d){ return d.protocol })
                    .attr("cx", function(d){ return projection([d.longitude, d.latitude])[0] })
                    .attr("cy", function(d){ return projection([d.longitude, d.latitude])[1] })
                    .attr("r", function(d){return d.ampFactor})
                    .style("fill", "#3697a")
                    .attr("stroke", "#b3697a")
                    .attr("stroke-width", 3)
                    .attr("fill-opacity", .4)
                    function update(){
                     // For each check box:
                     d3.selectAll(".checkbox").each(function(d){
                       cb = d3.select(this);
                       grp = cb.property("value")
                       // If the box is check, I show the group
                       if(cb.property("checked")){
                         svg.selectAll("."+grp).transition().duration(1000).style("opacity", 1).attr("r", function(d){if (d.protocol==document.querySelector('input[name="contact"]:checked').value)
                         {return d.ampFactor ;}
                         else {return 0;} } )
                       // Otherwise I hide it
                       }else{
                         svg.selectAll("."+grp).transition().duration(1000).style("opacity", 0).attr("r", 0)
                       }
                     })
                   }
                   // When a button change, I run the update function
                   d3.selectAll(".checkbox").on("change",update);
                   d3.selectAll(".checkbox").on("change",update);
                   // And I initialize it at the beginning
                   update()
})
</script>
